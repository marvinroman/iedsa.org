import{_ as q}from"./nuxt-link.ad82c915.js";import{_ as z}from"./ArticleList.7425d5bb.js";import{_ as F}from"./StatementList.1a92ae8d.js";import{G as Q,w as h,i as D,r as _,c as o,a,o as e,b as u,e as f,f as g,u as n,F as w,a0 as l,h as y,t as v,$ as x}from"./entry.525a8aa9.js";import{u as E}from"./config.a69a2bd4.js";import{q as k}from"./query.51e58328.js";import"./utils.74805401.js";import"./preview.b80419e5.js";const G=l("h3",{class:"my-2"},"Other Tags",-1),H={class:"mb-4"},O={class:"text-capitalize"},R={class:"mb-4"},j={class:"text-capitalize"},et={__name:"[name]",async setup(I){let t,r;const{params:{name:c}}=Q(),b=([t,r]=h(()=>k().only(["tags"]).where({tags:{$exists:!0}}).where({draft:{$not:!0}}).where({published:!0}).find()),t=await t,r(),t).map(i=>i.tags).filter(i=>!!i),C=[...new Set(b.flat())].sort(),m=([t,r]=h(()=>k("article").where({tags:{$contains:c}}).where({draft:{$not:!0}}).where({published:!0}).sort({date:-1}).find()),t=await t,r(),t),d=([t,r]=h(()=>k("statement").where({tags:{$contains:c}}).where({draft:{$not:!0}}).where({published:!0}).sort({date:-1}).find()),t=await t,r(),t),B=E();return D({title:`Tag - ${c} - ${B.short_title}`}),(i,K)=>{const N=q,T=_("v-chip"),p=_("v-sheet"),A=z,$=_("v-row"),L=_("v-divider"),S=F,V=_("v-container");return e(),o(V,null,{default:a(()=>[u(p,{class:"my-4"},{default:a(()=>[G,(e(!0),f(w,null,g(n(C),s=>(e(),o(T,{key:s.id,class:"ml-2"},{default:a(()=>[u(N,{to:"/tag/"+s,class:"text-decoration-none"},{default:a(()=>[y(v(s),1)]),_:2},1032,["to"])]),_:2},1024))),128))]),_:1}),n(m).length>0?(e(),o(p,{key:0},{default:a(()=>[l("h2",H,[y(" Articles tagged with:  "),l("span",O,v(n(c)),1)]),u($,null,{default:a(()=>[(e(!0),f(w,null,g(n(m),s=>(e(),o(A,{key:s.id,article:s},null,8,["article"]))),128))]),_:1})]),_:1})):x("",!0),n(d).length>0&&n(m).length>0?(e(),o(L,{key:1,class:"my-6"})):x("",!0),n(d).length>0?(e(),o(p,{key:2},{default:a(()=>[l("h2",R,[y(" Statements tagged with:  "),l("span",j,v(n(c)),1)]),u($,null,{default:a(()=>[(e(!0),f(w,null,g(n(d),s=>(e(),o(S,{key:s.id,statement:s},null,8,["statement"]))),128))]),_:1})]),_:1})):x("",!0)]),_:1})}}};export{et as default};
